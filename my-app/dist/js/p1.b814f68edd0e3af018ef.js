(()=>{"use strict";var r={};r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var n=r.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})();const e={azathoth:r.p+"assets/Ancients/Azathoth.png",cthulhu:r.p+"assets/Ancients/Cthulthu.png",iogSothoth:r.p+"assets/Ancients/IogSothoth.png",shubNiggurath:r.p+"assets/Ancients/ShubNiggurath.png"},n=[{id:"azathoth",name:"azathoth",cardFace:e.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:e.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:e.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:e.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],a={brown1:r.p+"assets/MythicCards/brown/brown1.png",brown2:r.p+"assets/MythicCards/brown/brown2.png",brown3:r.p+"assets/MythicCards/brown/brown3.png",brown4:r.p+"assets/MythicCards/brown/brown4.png",brown5:r.p+"assets/MythicCards/brown/brown5.png",brown6:r.p+"assets/MythicCards/brown/brown6.png",brown7:r.p+"assets/MythicCards/brown/brown7.png",brown8:r.p+"assets/MythicCards/brown/brown8.png",brown9:r.p+"assets/MythicCards/brown/brown9.png",brown10:r.p+"assets/MythicCards/brown/brown10.png",brown11:r.p+"assets/MythicCards/brown/brown11.png",brown12:r.p+"assets/MythicCards/brown/brown12.png",brown13:r.p+"assets/MythicCards/brown/brown13.png",brown14:r.p+"assets/MythicCards/brown/brown14.png",brown15:r.p+"assets/MythicCards/brown/brown15.png",brown16:r.p+"assets/MythicCards/brown/brown16.png",brown17:r.p+"assets/MythicCards/brown/brown17.png",brown18:r.p+"assets/MythicCards/brown/brown18.png",brown19:r.p+"assets/MythicCards/brown/brown19.png",brown20:r.p+"assets/MythicCards/brown/brown20.png",brown21:r.p+"assets/MythicCards/brown/brown21.png"},s=[{id:"brown1",cardFace:a.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:a.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:a.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:a.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:a.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:a.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:a.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:a.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:a.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:a.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:a.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:a.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:a.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:a.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:a.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:a.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:a.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:a.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:a.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:a.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:a.brown21,difficulty:"easy",color:"brown"}],t={blue1:r.p+"assets/MythicCards/blue/blue1.png",blue2:r.p+"assets/MythicCards/blue/blue2.png",blue3:r.p+"assets/MythicCards/blue/blue3.png",blue4:r.p+"assets/MythicCards/blue/blue4.png",blue5:r.p+"assets/MythicCards/blue/blue5.png",blue6:r.p+"assets/MythicCards/blue/blue6.png",blue7:r.p+"assets/MythicCards/blue/blue7.png",blue8:r.p+"assets/MythicCards/blue/blue8.png",blue9:r.p+"assets/MythicCards/blue/blue9.png",blue10:r.p+"assets/MythicCards/blue/blue10.png",blue11:r.p+"assets/MythicCards/blue/blue11.png",blue12:r.p+"assets/MythicCards/blue/blue12.png"},o=[{id:"blue1",cardFace:t.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:t.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:t.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:t.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:t.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:t.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:t.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:t.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:t.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:t.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:t.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:t.blue12,difficulty:"normal",color:"blue"}],c={green1:r.p+"assets/MythicCards/green/green1.png",green2:r.p+"assets/MythicCards/green/green2.png",green3:r.p+"assets/MythicCards/green/green3.png",green4:r.p+"assets/MythicCards/green/green4.png",green5:r.p+"assets/MythicCards/green/green5.png",green6:r.p+"assets/MythicCards/green/green6.png",green7:r.p+"assets/MythicCards/green/green7.png",green8:r.p+"assets/MythicCards/green/green8.png",green9:r.p+"assets/MythicCards/green/green9.png",green10:r.p+"assets/MythicCards/green/green10.png",green11:r.p+"assets/MythicCards/green/green11.png",green12:r.p+"assets/MythicCards/green/green12.png",green13:r.p+"assets/MythicCards/green/green13.png",green14:r.p+"assets/MythicCards/green/green14.png",green15:r.p+"assets/MythicCards/green/green15.png",green16:r.p+"assets/MythicCards/green/green16.png",green17:r.p+"assets/MythicCards/green/green17.png",green18:r.p+"assets/MythicCards/green/green18.png"},d=[...o,...s,{id:"green1",cardFace:c.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:c.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:c.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:c.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:c.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:c.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:c.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:c.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:c.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:c.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:c.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:c.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:c.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:c.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:c.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:c.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:c.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:c.green18,difficulty:"easy",color:"green"}];function l(r){for(let e=r.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[r[e],r[n]]=[r[n],r[e]]}return r}function i(r,e){const n=[];for(let t=1;t<=r;t++){const r=e.splice((a=0,s=e.length-1,a=Math.ceil(a),s=Math.floor(s),Math.floor(Math.random()*(s-a+1))+a),1)[0];n.push(r)}var a,s;return n}let b,g,u;document.querySelector(".ancients_container").onclick=r=>function(r){"ancient_card"===r.target.className&&(b=n.find((e=>e.id===r.target.id)),function(r){[...document.getElementsByClassName("ancient_card")].forEach((r=>r.classList.remove("_active"))),r.target.classList.add("_active")}(r))}(r),document.querySelector(".difficulty-container").onclick=r=>function(r){r.target.classList.contains("difficulty")&&(g=r.target.id,function(r){[...document.getElementsByClassName("difficulty")].forEach((r=>r.classList.remove("_active"))),r.target.classList.add("_active")}(r))}(r),document.getElementById("create_deck_btn").onclick=()=>{u=function(){const r=function(r){const e=Object.values(b).reduce(((r,e)=>({blueCards:r.blueCards+(e.blueCards?e.blueCards:0),brownCards:r.brownCards+(e.brownCards?e.brownCards:0),greenCards:r.greenCards+(e.greenCards?e.greenCards:0)})),{blueCards:0,brownCards:0,greenCards:0}),n=[...d];switch(r){case"super_easy":return[...l(n.filter((r=>"hard"!==r.difficulty&&"brown"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.brownCards),...l(n.filter((r=>"hard"!==r.difficulty&&"blue"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.blueCards),...l(n.filter((r=>"hard"!==r.difficulty&&"green"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.greenCards)];case"easy":return n.filter((r=>"hard"!==r.difficulty));case"hard":return n.filter((r=>"easy"!==r.difficulty));case"super_hard":return[...l(n.filter((r=>"easy"!==r.difficulty&&"brown"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.brownCards),...l(n.filter((r=>"easy"!==r.difficulty&&"blue"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.blueCards),...l(n.filter((r=>"easy"!==r.difficulty&&"green"===r.color))).sort(((r,e)=>r.difficulty>e.difficulty?1:-1)).splice(0,e.greenCards)];default:return n}}(g),e=Object.values(b).reduce(((r,e)=>({blueCards:r.blueCards+(e.blueCards?e.blueCards:0),brownCards:r.brownCards+(e.brownCards?e.brownCards:0),greenCards:r.greenCards+(e.greenCards?e.greenCards:0)})),{blueCards:0,brownCards:0,greenCards:0}),n={blueCards:i(e.blueCards,r.filter((r=>"blue"===r.color))),brownCards:i(e.brownCards,r.filter((r=>"brown"===r.color))),greenCards:i(e.greenCards,r.filter((r=>"green"===r.color)))},a=l([...i(b.firstStage.blueCards,n.blueCards),...i(b.firstStage.brownCards,n.brownCards),...i(b.firstStage.greenCards,n.greenCards)]);a.forEach((r=>r.stage=1));const s=l([...i(b.secondStage.blueCards,n.blueCards),...i(b.secondStage.brownCards,n.brownCards),...i(b.secondStage.greenCards,n.greenCards)]);s.forEach((r=>r.stage=2));const t=l([...i(b.thirdStage.blueCards,n.blueCards),...i(b.thirdStage.brownCards,n.brownCards),...i(b.thirdStage.greenCards,n.greenCards)]);return t.forEach((r=>r.stage=3)),[...a,...s,...t]}(),console.log(u),w()};const f=document.querySelector(".deck");function w(){const r=[{blueCards:u.filter((r=>"blue"===r.color&&1===r.stage)).length,brownCards:u.filter((r=>"brown"===r.color&&1===r.stage)).length,greenCards:u.filter((r=>"green"===r.color&&1===r.stage)).length},{blueCards:u.filter((r=>"blue"===r.color&&2===r.stage)).length,brownCards:u.filter((r=>"brown"===r.color&&2===r.stage)).length,greenCards:u.filter((r=>"green"===r.color&&2===r.stage)).length},{blueCards:u.filter((r=>"blue"===r.color&&3===r.stage)).length,brownCards:u.filter((r=>"brown"===r.color&&3===r.stage)).length,greenCards:u.filter((r=>"green"===r.color&&3===r.stage)).length}],e=document.getElementsByClassName("green");for(let n=0;n<e.length;n++)e[n].textContent=r[n].greenCards;const n=document.getElementsByClassName("brown");for(let e=0;e<n.length;e++)n[e].textContent=r[e].brownCards;const a=document.getElementsByClassName("blue");for(let e=0;e<a.length;e++)a[e].textContent=r[e].blueCards}f.onclick=function(){const r=document.querySelector(".current_card"),e=u.shift();w(),0===u.length&&(f.style.backgroundImage="none"),e&&(r.style.backgroundImage=`url(${e.cardFace})`)}})();